package streuli;

import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.Graphics;
import java.io.IOException;
import java.io.InputStream;
import java.net.URI;

import javax.swing.JPanel;

import com.kitfox.svg.SVGCache;
import com.kitfox.svg.app.beans.SVGIcon;

class IconPanel2 extends JPanel {
	public static final long serialVersionUID = 0;

	final SVGIcon test;

	public IconPanel2() throws IOException {

		final InputStream svgImage = this.getClass().getClassLoader().getResourceAsStream("map/switzerland.svg");
		final URI uri = SVGCache.getSVGUniverse().loadSVG(svgImage, "map_switzerland");

		this.test = new SVGIcon();
		this.test.setSvgURI(uri);

		this.setPreferredSize(new Dimension(400, 400));
	}

	@Override
	public void paintComponent(Graphics g) {
		final int width = this.getWidth();
		final int height = this.getHeight();

		g.setColor(this.getBackground());
		g.fillRect(0, 0, width, height);

		this.test.setPreferredSize(new Dimension(400, 256));
		this.test.setScaleToFit(true);
		this.test.paintIcon(this, g, 0, 0);
	}
}

public class Test extends javax.swing.JFrame {
	public static final long serialVersionUID = 0;

	IconPanel2 panel;

	/**
	 * Creates new form SVGIconDemo
	 * 
	 * @throws IOException
	 */
	public Test() throws IOException {
		this.panel = new IconPanel2();

		this.initComponents();

		this.getContentPane().add(this.panel, BorderLayout.CENTER);

		this.pack();
	}

	/**
	 * This method is called from within the constructor to initialize the form. WARNING: Do NOT modify this code. The content of this method is always regenerated by the Form Editor.
	 */
	private void initComponents() {

		this.setLayout(new java.awt.BorderLayout());

	}

	public static void main(String args[]) {
		java.awt.EventQueue.invokeLater(new Runnable() {
			@Override
			public void run() {
				try {
					new Test().setVisible(true);
				}
				catch (final IOException e) {
					e.printStackTrace();
				}
			}
		});
	}

}